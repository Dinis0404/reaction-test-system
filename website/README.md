# åœ¨çº¿æµ‹éªŒç³»ç»Ÿ

ä¸€ä¸ªåŸºäº Next.js çš„åœ¨çº¿æµ‹éªŒç³»ç»Ÿï¼Œå¯ä»¥ä»èµ„æ–™å¤¹è¯»å–é¢˜ç›®æ–‡ä»¶ï¼Œéšæœºæ’åˆ—é¢˜ç›®å¹¶æä¾›é€‰æ‹©é¢˜ç•Œé¢è®©ç”¨æˆ·ä½œç­”ï¼Œæ˜¾ç¤ºåˆ†æ•°ä¸å›é¦ˆã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸ“š ä» `/data` èµ„æ–™å¤¹è¯»å– JSON æ ¼å¼çš„é¢˜ç›®
- ğŸ² è‡ªåŠ¨éšæœºæ’åˆ—é¢˜ç›®é¡ºåº
- ğŸ’¡ ç¾è§‚çš„ç­”é¢˜ç•Œé¢
- âœ… å³æ—¶æ˜¾ç¤ºç­”é¢˜ç»“æœä¸è¯¦ç»†å›é¦ˆ
- ğŸ“Š åˆ†æ•°ç»Ÿè®¡ä¸è¿›åº¦æ˜¾ç¤º
- ğŸ¨ ä½¿ç”¨ Tailwind CSS æ„å»ºç°ä»£åŒ– UI

## å®‰è£…æ­¥éª¤

1. **å®‰è£…ä¾èµ–**
```bash
npm install
```

2. **å‡†å¤‡é¢˜åº“æ–‡ä»¶**
   å°†é¢˜ç›®æ–‡ä»¶æ”¾åœ¨ `data/` ç›®å½•ä¸‹ï¼Œæ ¼å¼ä¸º JSONã€‚ç¤ºä¾‹æ ¼å¼ï¼š

```json
[
  {
    "id": 1,
    "question": "é¢˜ç›®å†…å®¹",
    "options": ["é€‰é¡¹A", "é€‰é¡¹B", "é€‰é¡¹C", "é€‰é¡¹D"],
    "correctAnswer": 0,
    "explanation": "ç­”æ¡ˆè§£æ"
  }
]
```

3. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
```bash
npm run dev
```

4. **è®¿é—®ç½‘ç«™**
   æ‰“å¼€æµè§ˆå™¨è®¿é—® [http://localhost:3000](http://localhost:3000)

## é¢˜åº“æ–‡ä»¶æ ¼å¼

é¢˜åº“æ–‡ä»¶å¿…é¡»ä¸º JSON æ ¼å¼ï¼Œæ”¾åœ¨ `data/` ç›®å½•ä¸‹ã€‚ç³»ç»Ÿä¼šè‡ªåŠ¨åŠ è½½è¯¥ç›®å½•ä¸‹æ‰€æœ‰ `.json` æ–‡ä»¶ã€‚

æ¯ä¸ªé¢˜ç›®å¿…é¡»åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

- `id` (number): é¢˜ç›®å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œå¿…é¡» >= 0
- `question` (string): é¢˜ç›®å†…å®¹ï¼Œå¿…é¡»éç©º
- `choices` (string[]): é€‰é¡¹æ•°ç»„ï¼Œè‡³å°‘ 2 ä¸ªé€‰é¡¹ï¼Œæ¯ä¸ªé€‰é¡¹å¿…é¡»éç©º
- `answerIndex` (number): æ­£ç¡®ç­”æ¡ˆçš„ç´¢å¼•ï¼ˆ0 ä¸ºç¬¬ä¸€ä¸ªé€‰é¡¹ï¼‰ï¼Œå¿…é¡»åœ¨ choices èŒƒå›´å†…
- `explanation` (string, å¯é€‰): ç­”æ¡ˆè§£æ

**ç¤ºä¾‹ï¼š**
```json
{
  "id": 1,
  "question": "JavaScript ä¸­å“ªä¸ªæ–¹æ³•ç”¨äºå‘æ•°ç»„æœ«å°¾æ·»åŠ å…ƒç´ ï¼Ÿ",
  "choices": ["push()", "pop()", "shift()", "unshift()"],
  "answerIndex": 0,
  "explanation": "push() æ–¹æ³•ç”¨äºå‘æ•°ç»„æœ«å°¾æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ã€‚"
}
```

**éªŒè¯è§„åˆ™ï¼š**
- ä¸ç¬¦åˆæ ¼å¼è¦æ±‚çš„é¢˜ç›®ä¼šè¢«è·³è¿‡å¹¶è®°å½•é”™è¯¯æ—¥å¿—
- éªŒè¯é”™è¯¯ä¸ä¼šé˜»æ­¢æœ‰æ•ˆé¢˜ç›®çš„åŠ è½½

## é¡¹ç›®ç»“æ„

```
website/
â”œâ”€â”€ data/                  # é¢˜åº“èµ„æ–™å¤¹
â”‚   â””â”€â”€ questions.json     # é¢˜ç›®æ–‡ä»¶
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ api/              # API è·¯ç”±
â”‚   â”‚   â””â”€â”€ quiz/         # æµ‹éªŒ API
â”‚   â”‚       â”œâ”€â”€ new.ts                           # åˆ›å»ºæ–°æµ‹éªŒ
â”‚   â”‚       â””â”€â”€ [sessionId]/                     # Session ç›¸å…³
â”‚   â”‚           â”œâ”€â”€ answer.ts                    # æäº¤ç­”æ¡ˆ
â”‚   â”‚           â””â”€â”€ result.ts                    # è·å–ç»“æœ
â”‚   â”œâ”€â”€ _app.tsx          # Next.js App ç»„ä»¶
â”‚   â””â”€â”€ index.tsx         # é¦–é¡µ
â”œâ”€â”€ lib/                   # å·¥å…·åº“
â”‚   â”œâ”€â”€ questionValidator.ts    # é¢˜ç›®éªŒè¯
â”‚   â”œâ”€â”€ questionLoader.ts       # é¢˜åº“åŠ è½½
â”‚   â”œâ”€â”€ questionShuffler.ts     # é¢˜ç›®éšæœºåŒ–
â”‚   â””â”€â”€ sessionManager.ts       # Session ç®¡ç†
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ QuizContainer.tsx # æµ‹éªŒå®¹å™¨ç»„ä»¶
â”‚   â””â”€â”€ QuestionCard.tsx  # é¢˜ç›®å¡ç‰‡ç»„ä»¶
â”œâ”€â”€ app/
â”‚   â””â”€â”€ globals.css       # å…¨å±€æ ·å¼
â”œâ”€â”€ package.json
â”œâ”€â”€ next.config.js
â”œâ”€â”€ tailwind.config.js
â””â”€â”€ tsconfig.json
```

## API æ¥å£

### GET /api/quiz/new
åˆ›å»ºæ–°çš„æµ‹éªŒ session å¹¶è·å–éšæœºé¢˜ç›®

**æŸ¥è¯¢å‚æ•°ï¼š**
- `count` (å¯é€‰): é¢˜ç›®æ•°é‡ï¼Œé»˜è®¤ä¸º 10ï¼Œæœ€å¤§ä¸º 100
- `shuffleChoices` (å¯é€‰): æ˜¯å¦éšæœºæ‰“æ•£é€‰é¡¹ï¼Œé»˜è®¤ä¸º true

**å“åº”ï¼š**
```json
{
  "sessionId": "quiz_1234567890_abc123",
  "questions": [
    {
      "id": 1,
      "question": "é¢˜ç›®å†…å®¹",
      "choices": ["é€‰é¡¹A", "é€‰é¡¹B", "é€‰é¡¹C", "é€‰é¡¹D"]
    }
  ],
  "total": 10,
  "count": 10
}
```

### POST /api/quiz/[sessionId]/answer
æäº¤ç­”æ¡ˆï¼ˆæ”¯æŒå•é¢˜æˆ–æ‰¹é‡æäº¤ï¼‰

**è¯·æ±‚ä½“ç¤ºä¾‹ï¼ˆæ‰¹é‡ï¼‰ï¼š**
```json
{
  "answers": [
    {
      "questionId": 1,
      "selectedIndex": 0
    }
  ]
}
```

**å“åº”ï¼š**
```json
{
  "success": true,
  "message": "ç­”æ¡ˆå·²ä¿å­˜",
  "submittedCount": 1
}
```

### GET /api/quiz/[sessionId]/result
è·å–æµ‹éªŒç»“æœ

**å“åº”ï¼š**
```json
{
  "sessionId": "quiz_1234567890_abc123",
  "score": 80,
  "correctCount": 8,
  "totalQuestions": 10,
  "submitted": true,
  "submittedAt": 1234567890000,
  "results": [...]
}
```

è¯¦ç»† API æ–‡æ¡£è¯·å‚é˜… [API_DOCUMENTATION.md](./API_DOCUMENTATION.md)

## æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
npm start
```

## æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Next.js 14 (React 18)
- **æ ·å¼**: Tailwind CSS
- **è¯­è¨€**: TypeScript
- **åç«¯**: Next.js API Routes
- **çŠ¶æ€ç®¡ç†**: å†…å­˜ Mapï¼ˆSession ç®¡ç†ï¼‰
- **éšæœºç®—æ³•**: Fisher-Yates æ´—ç‰Œç®—æ³•

## æ ¸å¿ƒåŠŸèƒ½

âœ… **é¢˜ç›®éªŒè¯**: è‡ªåŠ¨éªŒè¯é¢˜åº“æ ¼å¼ï¼Œè·³è¿‡æ— æ•ˆé¢˜ç›®  
âœ… **éšæœºåŒ–**: é¢˜ç›®å’Œé€‰é¡¹éƒ½ä¼šéšæœºæ‰“æ•£  
âœ… **Session ç®¡ç†**: æ”¯æŒå¤šä¸ªå¹¶å‘çš„æµ‹éªŒ session  
âœ… **ç­”æ¡ˆä¿æŠ¤**: é¢˜ç›®è¿”å›æ—¶ä¸åŒ…å«ç­”æ¡ˆä¿¡æ¯  
âœ… **è¾“å…¥éªŒè¯**: ä¸¥æ ¼çš„è¾“å…¥éªŒè¯å’Œé”™è¯¯å¤„ç†  
âœ… **æ€§èƒ½ä¼˜åŒ–**: é¢˜ç›®ç¼“å­˜æœºåˆ¶ï¼Œå‡å°‘æ–‡ä»¶è¯»å–

## æ³¨æ„äº‹é¡¹

- ç¡®ä¿ `data/questions.json` æ–‡ä»¶å­˜åœ¨
- é¢˜ç›®æ–‡ä»¶å¿…é¡»æ˜¯æœ‰æ•ˆçš„ JSON æ ¼å¼
- æœåŠ¡å™¨ç«¯å£é»˜è®¤ä¸º 3000ï¼ˆå¯åœ¨ `package.json` ä¸­ä¿®æ”¹ï¼‰

## è®¸å¯è¯

MIT

